<form (submit)='onSubmit($event)' [formGroup]='form' autocomplete='off'>
  <div class='row overflow-hidden'>
    <formidable-dynamic-field
      *ngFor='let field of fields; trackBy: trackById'
      [field]='field'
      [formControlName]='field.id'
      [form]='form'
      class='col-12'
    ></formidable-dynamic-field>

    <div>
      {{ form.value | json }}
    </div>

    <ng-container
      *ngTemplateOutlet='buttonTemplate ? buttonTemplate : defaultButton'
    ></ng-container>
  </div>
</form>

<ng-template #defaultButton>
  <formidable-button
    *ngIf='buttonText'
    [loading]='(loading$ | async) ?? false'
    [text]='buttonText'
    class='d-flex justify-content-end'
    type='submit'
  ></formidable-button>
</ng-template>
